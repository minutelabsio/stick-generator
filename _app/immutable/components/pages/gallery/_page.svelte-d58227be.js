import{S as te,i as le,s as re,V as at,k as b,l as _,m as v,h as m,n as c,b as I,H as U,W as nt,X as ot,Y as it,f as E,t as P,a4 as rt,E as Ie,F as Ee,D as p,C as B,g as de,d as he,G as me,x as X,a as V,q as M,y as Z,c as F,r as T,z as Q,A as ee,a0 as ye,e as We,a5 as ct,o as ft,a7 as Le,a8 as ut,u as Re,Z as st}from"../../../chunks/index-5bd3dcd0.js";import{g as dt}from"../../../chunks/nav-1ca5ec09.js";import{f as ht,s as Oe}from"../../../chunks/index-29800c50.js";import{u as mt,g as Ce,a as ce,h as pt,d as gt,A as K}from"../../../chunks/gallery-bc559059.js";import{a as bt}from"../../../chunks/notifications-4ae7a520.js";import{i as qe}from"../../../chunks/app-info-b761063d.js";import{D as _t}from"../../../chunks/Download-3f086bf7.js";function vt(n){let e,l,t,r,a;const o=n[6].default,u=at(o,n,n[5],null);return{c(){e=b("label"),u&&u.c(),this.h()},l(s){e=_(s,"LABEL",{for:!0,class:!0});var i=v(e);u&&u.l(i),i.forEach(m),this.h()},h(){c(e,"for","dropzone-file"),c(e,"class",l="block w-full min-h-[calc(100vh-190px)] rounded-lg border-2 border-solid border-base-content transition ease-in cursor-pointer "+(n[0]?"border-dashed !border-orange-700 bg-orange-50":""))},m(s,i){I(s,e,i),u&&u.m(e,null),t=!0,r||(a=[U(e,"drop",n[3]),U(e,"dragover",n[4]),U(e,"dragenter",n[1]),U(e,"dragleave",n[2])],r=!0)},p(s,[i]){u&&u.p&&(!t||i&32)&&nt(u,o,s,s[5],t?it(o,s[5],i,null):ot(s[5]),null),(!t||i&1&&l!==(l="block w-full min-h-[calc(100vh-190px)] rounded-lg border-2 border-solid border-base-content transition ease-in cursor-pointer "+(s[0]?"border-dashed !border-orange-700 bg-orange-50":"")))&&c(e,"class",l)},i(s){t||(E(u,s),t=!0)},o(s){P(u,s),t=!1},d(s){s&&m(e),u&&u.d(s),r=!1,rt(a)}}}function wt(n,e,l){let{$$slots:t={},$$scope:r}=e,a=!1;const o=()=>l(0,a=!0),u=()=>l(0,a=!1),s=async h=>{h.preventDefault();const f=Array.from(h.dataTransfer.items);await Promise.all(f.map(async d=>{if(d.kind==="file"){const k=d.getAsFile();k.type.match("image/*")?await mt(k):(bt("Please upload images only","error"),console.error("Please upload images only"))}})),await Ce(),l(0,a=!1)},i=h=>h.preventDefault();return n.$$set=h=>{"$$scope"in h&&l(5,r=h.$$scope)},[a,o,u,s,i,r,t]}class kt extends te{constructor(e){super(),le(this,e,wt,vt,re,{})}}function $t(n){let e,l;return{c(){e=Ie("svg"),l=Ie("path"),this.h()},l(t){e=Ee(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0});var r=v(e);l=Ee(r,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(l).forEach(m),r.forEach(m),this.h()},h(){c(l,"stroke","#171717"),c(l,"stroke-linecap","round"),c(l,"stroke-linejoin","round"),c(l,"stroke-width","2"),c(l,"d","M14.167 45.667C7.17 45.667 1.5 39.996 1.5 33c0-6.039 4.226-11.09 9.882-12.36A15.89 15.89 0 0 1 11 17.167c0-8.745 7.089-15.834 15.833-15.834 7.662 0 14.052 5.441 15.518 12.67.105-.002.21-.003.316-.003C51.41 14 58.5 21.089 58.5 29.833c0 7.66-5.44 14.05-12.667 15.517M39.5 36.167l-9.5-9.5m0 0-9.5 9.5m9.5-9.5v38"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","60"),c(e,"height","66"),c(e,"fill","none")},m(t,r){I(t,e,r),p(e,l)},p:B,i:B,o:B,d(t){t&&m(e)}}}class It extends te{constructor(e){super(),le(this,e,null,$t,re,{})}}function Et(n){let e,l,t,r,a,o,u,s,i,h,f,d,k,$;return l=new It({}),{c(){e=b("div"),X(l.$$.fragment),t=V(),r=b("p"),a=b("span"),o=M("Upload a photo"),u=V(),s=b("p"),i=M("SVG, PNG, JPG or GIF"),h=V(),f=b("input"),this.h()},l(g){e=_(g,"DIV",{class:!0});var D=v(e);Z(l.$$.fragment,D),t=F(D),r=_(D,"P",{class:!0});var G=v(r);a=_(G,"SPAN",{class:!0});var q=v(a);o=T(q,"Upload a photo"),q.forEach(m),G.forEach(m),u=F(D),s=_(D,"P",{class:!0});var x=v(s);i=T(x,"SVG, PNG, JPG or GIF"),x.forEach(m),D.forEach(m),h=F(g),f=_(g,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),this.h()},h(){c(a,"class","font-bold text-sm"),c(r,"class","mt-4 mb-2 text-sm"),c(s,"class","text-xxs"),c(e,"class","flex flex-col justify-center items-center pt-5 pb-6"),c(f,"id","upload-file"),c(f,"type","file"),f.multiple=!0,c(f,"accept","image/*"),c(f,"class","hidden")},m(g,D){I(g,e,D),Q(l,e,null),p(e,t),p(e,r),p(r,a),p(a,o),p(e,u),p(e,s),p(s,i),I(g,h,D),I(g,f,D),d=!0,k||($=U(f,"change",n[2]),k=!0)},p:B,i(g){d||(E(l.$$.fragment,g),d=!0)},o(g){P(l.$$.fragment,g),d=!1},d(g){g&&m(e),ee(l),g&&m(h),g&&m(f),k=!1,$()}}}function yt(n){let e,l;return{c(){e=b("div"),l=b("div"),this.h()},l(t){e=_(t,"DIV",{class:!0});var r=v(e);l=_(r,"DIV",{class:!0}),v(l).forEach(m),r.forEach(m),this.h()},h(){c(l,"class","loader ease-linear rounded-full border-4 border-t-4 border-t-orange-500 border-neutral-900 h-16 w-16 animate-spin"),c(e,"class","flex justify-center items-center p-12")},m(t,r){I(t,e,r),p(e,l)},p:B,i:B,o:B,d(t){t&&m(e)}}}function Dt(n){let e,l,t,r;const a=[yt,Et],o=[];function u(s,i){return s[1].loading?0:1}return l=u(n),t=o[l]=a[l](n),{c(){e=b("label"),t.c(),this.h()},l(s){e=_(s,"LABEL",{for:!0,class:!0});var i=v(e);t.l(i),i.forEach(m),this.h()},h(){c(e,"for","upload-file"),c(e,"class","group btn !p-0 !h-auto flex flex-col justify-center items-center aspect-[22/23] object-cover rounded-lg shadow-orange hover:border-neutral-500 overflow-hidden transition-colors ease-in bg-base-100 border-2 box-content border-neutral cursor-pointer text-neutral-900 bg-gradient-to-r from-orange-300 to-orange-600")},m(s,i){I(s,e,i),o[l].m(e,null),r=!0},p(s,[i]){let h=l;l=u(s),l===h?o[l].p(s,i):(de(),P(o[h],1,1,()=>{o[h]=null}),he(),t=o[l],t?t.p(s,i):(t=o[l]=a[l](s),t.c()),E(t,1),t.m(e,null))},i(s){r||(E(t),r=!0)},o(s){P(t),r=!1},d(s){s&&m(e),o[l].d()}}}function At(n,e,l){let t;me(n,ce,o=>l(1,t=o));let r;function a(){r=this.files,l(0,r)}return n.$$.update=()=>{n.$$.dirty&1&&r&&pt(r)},[r,t,a]}class St extends te{constructor(e){super(),le(this,e,At,Dt,re,{})}}function Pt(n){let e,l,t,r,a,o,u,s,i;return{c(){e=b("div"),l=b("div"),t=V(),r=b("div"),a=b("img"),this.h()},l(h){e=_(h,"DIV",{class:!0});var f=v(e);l=_(f,"DIV",{class:!0}),v(l).forEach(m),t=F(f),r=_(f,"DIV",{class:!0});var d=v(r);a=_(d,"IMG",{class:!0,alt:!0,src:!0}),d.forEach(m),f.forEach(m),this.h()},h(){c(l,"class","flex items-center justify-center absolute z-10 top-0 right-0 bottom-0 left-0 bg-[#00000035] opacity-0 group-hover:opacity-100 transition-opacity ease-in"),c(a,"class","absolute block object-cover object-center w-full h-full"),c(a,"alt",o=`Gallery Image: ${n[0].name}`),ye(a.src,u=n[0].src)||c(a,"src",u),c(r,"class","relative pb-[105%]"),c(e,"class","relative group w-full aspect-[22/23] rounded-lg border-2 border-transparent hover:border-base-content box-border overflow-hidden transition-colors ease-in")},m(h,f){I(h,e,f),p(e,l),p(e,t),p(e,r),p(r,a),s||(i=U(e,"click",n[1]),s=!0)},p(h,[f]){f&1&&o!==(o=`Gallery Image: ${h[0].name}`)&&c(a,"alt",o),f&1&&!ye(a.src,u=h[0].src)&&c(a,"src",u)},i:B,o:B,d(h){h&&m(e),s=!1,i()}}}function Vt(n,e,l){let{image:t}=e,{openModal:r}=e;const a=()=>r(t);return n.$$set=o=>{"image"in o&&l(0,t=o.image),"openModal"in o&&l(2,r=o.openModal)},[t,a,r]}class Ft extends te{constructor(e){super(),le(this,e,Vt,Pt,re,{image:0,openModal:2})}}function Mt(n){let e,l;return{c(){e=Ie("svg"),l=Ie("path"),this.h()},l(t){e=Ee(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0});var r=v(e);l=Ee(r,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(l).forEach(m),r.forEach(m),this.h()},h(){c(l,"stroke","currentColor"),c(l,"stroke-linecap","round"),c(l,"stroke-linejoin","round"),c(l,"stroke-width","2"),c(l,"d","m16.5 5-.867 12.142A2 2 0 0 1 13.638 19H5.362a2 2 0 0 1-1.995-1.858L2.5 5m5 4v6m4-6v6m1-10V2a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v3m-5 0h16"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","19"),c(e,"height","20"),c(e,"fill","none")},m(t,r){I(t,e,r),p(e,l)},p:B,i:B,o:B,d(t){t&&m(e)}}}class Tt extends te{constructor(e){super(),le(this,e,null,Mt,re,{})}}function xe(n){let e,l,t,r,a,o,u,s,i,h,f,d=n[0].name+"",k,$,g,D,G,q,x,A,se,y,R,fe,ue=new Date(n[0].ctime).toDateString()+"",pe,De,z,Ae,ge,Se,be,H,W,ae,Pe,_e,ve,Ve,Y,ne,Fe,we,L,Me,Ue,j=n[2]&&He(n),N=n[3]&&Ye(n),O=n[0].private&&Je(),C=n[0].private&&Ke();return ae=new _t({}),ne=new Tt({}),{c(){e=b("input"),t=V(),r=b("label"),a=b("div"),o=b("label"),u=M("✕"),i=V(),h=b("div"),f=b("h3"),k=M(d),$=V(),g=b("div"),j&&j.c(),D=V(),G=b("img"),A=V(),N&&N.c(),se=V(),y=b("div"),R=b("p"),fe=M("Created "),pe=M(ue),De=V(),z=b("a"),Ae=M("View on IPFS"),O&&O.c(),Se=V(),C&&C.c(),be=V(),H=b("div"),W=b("a"),X(ae.$$.fragment),Pe=M(" Download Image"),Ve=V(),Y=b("button"),X(ne.$$.fragment),Fe=M(" Delete Image"),this.h()},l(w){e=_(w,"INPUT",{type:!0,id:!0,class:!0}),t=F(w),r=_(w,"LABEL",{for:!0,class:!0});var S=v(r);a=_(S,"DIV",{class:!0});var ke=v(a);o=_(ke,"LABEL",{for:!0,class:!0});var Be=v(o);u=T(Be,"✕"),Be.forEach(m),i=F(ke),h=_(ke,"DIV",{});var oe=v(h);f=_(oe,"H3",{class:!0});var ze=v(f);k=T(ze,d),ze.forEach(m),$=F(oe),g=_(oe,"DIV",{class:!0});var ie=v(g);j&&j.l(ie),D=F(ie),G=_(ie,"IMG",{class:!0,alt:!0,src:!0}),A=F(ie),N&&N.l(ie),ie.forEach(m),se=F(oe),y=_(oe,"DIV",{class:!0});var J=v(y);R=_(J,"P",{class:!0});var Te=v(R);fe=T(Te,"Created "),pe=T(Te,ue),Te.forEach(m),De=F(J),z=_(J,"A",{href:!0,target:!0,class:!0});var je=v(z);Ae=T(je,"View on IPFS"),O&&O.l(je),je.forEach(m),Se=F(J),C&&C.l(J),be=F(J),H=_(J,"DIV",{class:!0});var $e=v(H);W=_($e,"A",{href:!0,download:!0,class:!0});var Ne=v(W);Z(ae.$$.fragment,Ne),Pe=T(Ne," Download Image"),Ne.forEach(m),Ve=F($e),Y=_($e,"BUTTON",{class:!0});var Ge=v(Y);Z(ne.$$.fragment,Ge),Fe=T(Ge," Delete Image"),Ge.forEach(m),$e.forEach(m),J.forEach(m),oe.forEach(m),ke.forEach(m),S.forEach(m),this.h()},h(){c(e,"type","checkbox"),c(e,"id",l=`image-modal-${n[0].cid}`),c(e,"class","modal-toggle"),c(o,"for",s=`image-modal-${n[0].cid}`),c(o,"class","btn btn-xs btn-circle absolute right-2 top-2"),c(f,"class","mb-7 text-lg break-all"),c(G,"class","block object-cover object-center border-2 border-base-content w-full h-full mb-4 rounded-[1rem]"),c(G,"alt",q=`Image: ${n[0].name}`),ye(G.src,x=n[0].src)||c(G,"src",x),c(g,"class","relative"),c(R,"class","mb-2 text-neutral-500"),c(z,"href",ge=`https://ipfs.${qe}/ipfs/${n[0].cid}/userland`),c(z,"target","_blank"),c(z,"class","underline mb-2 hover:text-neutral-500"),c(W,"href",_e=n[0].src),c(W,"download",ve=n[0].name),c(W,"class","btn btn-primary gap-2"),c(Y,"class","btn btn-outline gap-2"),c(H,"class","flex flex-col sm:flex-row items-center justify-between gap-4 mt-4"),c(y,"class","flex flex-col items-center justify-center"),c(a,"class","modal-box relative text-center text-base-content"),c(r,"for",we=`image-modal-${n[0].cid}`),c(r,"class","modal cursor-pointer z-50")},m(w,S){I(w,e,S),e.checked=n[1],I(w,t,S),I(w,r,S),p(r,a),p(a,o),p(o,u),p(a,i),p(a,h),p(h,f),p(f,k),p(h,$),p(h,g),j&&j.m(g,null),p(g,D),p(g,G),p(g,A),N&&N.m(g,null),p(h,se),p(h,y),p(y,R),p(R,fe),p(R,pe),p(y,De),p(y,z),p(z,Ae),O&&O.m(z,null),p(y,Se),C&&C.m(y,null),p(y,be),p(y,H),p(H,W),Q(ae,W,null),p(W,Pe),p(H,Ve),p(H,Y),Q(ne,Y,null),p(Y,Fe),L=!0,Me||(Ue=[U(e,"change",n[8]),U(o,"click",n[4]),U(Y,"click",n[5]),U(r,"click",ut(n[4]))],Me=!0)},p(w,S){(!L||S&1&&l!==(l=`image-modal-${w[0].cid}`))&&c(e,"id",l),S&2&&(e.checked=w[1]),(!L||S&1&&s!==(s=`image-modal-${w[0].cid}`))&&c(o,"for",s),(!L||S&1)&&d!==(d=w[0].name+"")&&Re(k,d),w[2]?j?j.p(w,S):(j=He(w),j.c(),j.m(g,D)):j&&(j.d(1),j=null),(!L||S&1&&q!==(q=`Image: ${w[0].name}`))&&c(G,"alt",q),(!L||S&1&&!ye(G.src,x=w[0].src))&&c(G,"src",x),w[3]?N?N.p(w,S):(N=Ye(w),N.c(),N.m(g,null)):N&&(N.d(1),N=null),(!L||S&1)&&ue!==(ue=new Date(w[0].ctime).toDateString()+"")&&Re(pe,ue),w[0].private?O||(O=Je(),O.c(),O.m(z,null)):O&&(O.d(1),O=null),(!L||S&1&&ge!==(ge=`https://ipfs.${qe}/ipfs/${w[0].cid}/userland`))&&c(z,"href",ge),w[0].private?C||(C=Ke(),C.c(),C.m(y,be)):C&&(C.d(1),C=null),(!L||S&1&&_e!==(_e=w[0].src))&&c(W,"href",_e),(!L||S&1&&ve!==(ve=w[0].name))&&c(W,"download",ve),(!L||S&1&&we!==(we=`image-modal-${w[0].cid}`))&&c(r,"for",we)},i(w){L||(E(ae.$$.fragment,w),E(ne.$$.fragment,w),L=!0)},o(w){P(ae.$$.fragment,w),P(ne.$$.fragment,w),L=!1},d(w){w&&m(e),w&&m(t),w&&m(r),j&&j.d(),N&&N.d(),O&&O.d(),C&&C.d(),ee(ae),ee(ne),Me=!1,rt(Ue)}}}function He(n){let e,l,t,r;return{c(){e=b("button"),l=M("‹"),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var o=v(e);l=T(o,"‹"),o.forEach(m),this.h()},h(){c(e,"class","absolute top-1/2 -left-[25px] -translate-y-1/2 inline-block text-center text-[40px]")},m(a,o){I(a,e,o),p(e,l),t||(r=U(e,"click",n[9]),t=!0)},p:B,d(a){a&&m(e),t=!1,r()}}}function Ye(n){let e,l,t,r;return{c(){e=b("button"),l=M("›"),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var o=v(e);l=T(o,"›"),o.forEach(m),this.h()},h(){c(e,"class","absolute top-1/2 -right-[25px] -translate-y-1/2 inline-block text-center text-[40px]")},m(a,o){I(a,e,o),p(e,l),t||(r=U(e,"click",n[10]),t=!0)},p:B,d(a){a&&m(e),t=!1,r()}}}function Je(n){let e;return{c(){e=M("*")},l(l){e=T(l,"*")},m(l,t){I(l,e,t)},d(l){l&&m(e)}}}function Ke(n){let e,l,t,r,a,o,u;return{c(){e=b("p"),l=M(`* Your private files can only be viewed on devices that have
              permission. When viewed directly on IPFS, you will see the
              encrypted state of this file. This is because the raw IPFS gateway
              view does not have permission to decrypt this file.`),t=V(),r=b("p"),a=M("Interested in private file sharing as a feature? Follow the "),o=b("a"),u=M("github issue."),this.h()},l(s){e=_(s,"P",{class:!0});var i=v(e);l=T(i,`* Your private files can only be viewed on devices that have
              permission. When viewed directly on IPFS, you will see the
              encrypted state of this file. This is because the raw IPFS gateway
              view does not have permission to decrypt this file.`),i.forEach(m),t=F(s),r=_(s,"P",{class:!0});var h=v(r);a=T(h,"Interested in private file sharing as a feature? Follow the "),o=_(h,"A",{class:!0,href:!0,target:!0});var f=v(o);u=T(f,"github issue."),f.forEach(m),h.forEach(m),this.h()},h(){c(e,"class","mb-2 text-neutral-700 dark:text-neutral-500"),c(o,"class","underline"),c(o,"href","https://github.com/webnative-examples/webnative-app-template/issues/4"),c(o,"target","_blank"),c(r,"class","mb-2 text-neutral-700 dark:text-neutral-500")},m(s,i){I(s,e,i),p(e,l),I(s,t,i),I(s,r,i),p(r,a),p(r,o),p(o,u)},d(s){s&&m(e),s&&m(t),s&&m(r)}}}function jt(n){let e,l,t,r,a=!!n[0]&&xe(n);return{c(){a&&a.c(),e=We()},l(o){a&&a.l(o),e=We()},m(o,u){a&&a.m(o,u),I(o,e,u),l=!0,t||(r=U(window,"keydown",n[7]),t=!0)},p(o,[u]){o[0]?a?(a.p(o,u),u&1&&E(a,1)):(a=xe(o),a.c(),E(a,1),a.m(e.parentNode,e)):a&&(de(),P(a,1,1,()=>{a=null}),he())},i(o){l||(E(a),l=!0)},o(o){P(a),l=!1},d(o){a&&a.d(o),o&&m(e),t=!1,r()}}}function Nt(n,e,l){let{image:t}=e,{isModalOpen:r=!1}=e,a,o,u,s,i;const h=ct(),f=ce.subscribe(A=>i=A),d=()=>{l(0,t=null),a=null,o=null,l(1,r=!1),h("close")},k=async()=>{await gt(t.name),d()},$=()=>{var A,se;const y=t.private?i.privateImages:i.publicImages,R=y.findIndex(fe=>fe.cid===t.cid);a=(A=y[R-1])!==null&&A!==void 0?A:y[y.length-1],o=(se=y[R+1])!==null&&se!==void 0?se:y[0],l(2,u=y.length>1&&!!a),l(3,s=y.length>1&&!!o)},g=A=>{l(0,t=A==="prev"?a:o),$()},D=A=>{A.key==="Escape"&&d(),s&&A.key==="ArrowRight"&&g("next"),u&&A.key==="ArrowLeft"&&g("prev")};ft(()=>{$()}),Le(f);function G(){r=this.checked,l(1,r)}const q=()=>g("prev"),x=()=>g("next");return n.$$set=A=>{"image"in A&&l(0,t=A.image),"isModalOpen"in A&&l(1,r=A.isModalOpen)},[t,r,u,s,d,k,g,D,G,q,x]}class Gt extends te{constructor(e){super(),le(this,e,Nt,jt,re,{image:0,isModalOpen:1})}}function Xe(n,e,l){const t=n.slice();return t[9]=e[l],t}function Ze(n){let e,l;return e=new Ft({props:{image:n[9],openModal:n[2]}}),{c(){X(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p(t,r){const a={};r&2&&(a.image=t[9]),e.$set(a)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){ee(e,t)}}}function Qe(n){let e,l;return e=new Gt({props:{image:n[0],isModalOpen:!!n[0]}}),e.$on("close",n[3]),{c(){X(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p(t,r){const a={};r&1&&(a.image=t[0]),r&1&&(a.isModalOpen=!!t[0]),e.$set(a)},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){ee(e,t)}}}function Ot(n){let e,l,t,r,a,o,u;r=new St({});let s=n[1].selectedArea===K.PRIVATE?n[1].privateImages:n[1].publicImages,i=[];for(let d=0;d<s.length;d+=1)i[d]=Ze(Xe(n,s,d));const h=d=>P(i[d],1,1,()=>{i[d]=null});let f=n[0]&&Qe(n);return{c(){e=b("section"),l=b("div"),t=b("div"),X(r.$$.fragment),a=V();for(let d=0;d<i.length;d+=1)i[d].c();o=V(),f&&f.c(),this.h()},l(d){e=_(d,"SECTION",{class:!0});var k=v(e);l=_(k,"DIV",{class:!0});var $=v(l);t=_($,"DIV",{class:!0});var g=v(t);Z(r.$$.fragment,g),a=F(g);for(let D=0;D<i.length;D+=1)i[D].l(g);g.forEach(m),$.forEach(m),o=F(k),f&&f.l(k),k.forEach(m),this.h()},h(){c(t,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:lg:grid-cols-6 gap-4"),c(l,"class","pt-8 p-6 md:p-8 mx-auto"),c(e,"class","overflow-hidden text-gray-700")},m(d,k){I(d,e,k),p(e,l),p(l,t),Q(r,t,null),p(t,a);for(let $=0;$<i.length;$+=1)i[$].m(t,null);p(e,o),f&&f.m(e,null),u=!0},p(d,[k]){if(k&6){s=d[1].selectedArea===K.PRIVATE?d[1].privateImages:d[1].publicImages;let $;for($=0;$<s.length;$+=1){const g=Xe(d,s,$);i[$]?(i[$].p(g,k),E(i[$],1)):(i[$]=Ze(g),i[$].c(),E(i[$],1),i[$].m(t,null))}for(de(),$=s.length;$<i.length;$+=1)h($);he()}d[0]?f?(f.p(d,k),k&1&&E(f,1)):(f=Qe(d),f.c(),E(f,1),f.m(e,null)):f&&(de(),P(f,1,1,()=>{f=null}),he())},i(d){if(!u){E(r.$$.fragment,d);for(let k=0;k<s.length;k+=1)E(i[k]);E(f),u=!0}},o(d){P(r.$$.fragment,d),i=i.filter(Boolean);for(let k=0;k<i.length;k+=1)P(i[k]);P(f),u=!1},d(d){d&&m(e),ee(r),st(i,d),f&&f.d()}}}function Ct(n,e,l){let t,r;me(n,ht,d=>l(6,t=d)),me(n,ce,d=>l(1,r=d));let a;const o=d=>l(0,a=d),u=()=>l(0,a=null);let s=null;const i=ce.subscribe(async d=>{s||(s=d.selectedArea),s!==d.selectedArea&&(s=d.selectedArea,await Ce())});let h=!1;const f=Oe.subscribe(d=>{d.session&&t&&!h&&(h=!0,Ce())});return Le(()=>{i(),f()}),[a,r,o,u]}class Lt extends te{constructor(e){super(),le(this,e,Ct,Ot,re,{})}}function et(n,e,l){const t=n.slice();return t[5]=e[l],t}function tt(n){let e,l,t,r,a,o=Object.keys(K),u=[];for(let s=0;s<o.length;s+=1)u[s]=lt(et(n,o,s));return r=new kt({props:{$$slots:{default:[Ut]},$$scope:{ctx:n}}}),{c(){e=b("div"),l=b("div");for(let s=0;s<u.length;s+=1)u[s].c();t=V(),X(r.$$.fragment),this.h()},l(s){e=_(s,"DIV",{class:!0});var i=v(e);l=_(i,"DIV",{class:!0});var h=v(l);for(let f=0;f<u.length;f+=1)u[f].l(h);h.forEach(m),i.forEach(m),t=F(s),Z(r.$$.fragment,s),this.h()},h(){c(l,"class","tabs border-2 overflow-hidden border-base-content rounded-lg"),c(e,"class","flex items-center justify-center translate-y-1/2 w-fit m-auto")},m(s,i){I(s,e,i),p(e,l);for(let h=0;h<u.length;h+=1)u[h].m(l,null);I(s,t,i),Q(r,s,i),a=!0},p(s,i){if(i&6){o=Object.keys(K);let f;for(f=0;f<o.length;f+=1){const d=et(s,o,f);u[f]?u[f].p(d,i):(u[f]=lt(d),u[f].c(),u[f].m(l,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=o.length}const h={};i&256&&(h.$$scope={dirty:i,ctx:s}),r.$set(h)},i(s){a||(E(r.$$.fragment,s),a=!0)},o(s){P(r.$$.fragment,s),a=!1},d(s){s&&m(e),st(u,s),s&&m(t),ee(r,s)}}}function lt(n){let e,l=K[n[5]]+"",t,r,a,o,u;function s(){return n[3](n[5])}return{c(){e=b("button"),t=M(l),r=M(` Photos
          `),this.h()},l(i){e=_(i,"BUTTON",{class:!0});var h=v(e);t=T(h,l),r=T(h,` Photos
          `),h.forEach(m),this.h()},h(){c(e,"class",a="tab h-10 font-bold text-sm ease-in "+(n[1].selectedArea===K[n[5]]?"tab-active bg-base-content text-base-100":"bg-base-100 text-base-content"))},m(i,h){I(i,e,h),p(e,t),p(e,r),o||(u=U(e,"click",s),o=!0)},p(i,h){n=i,h&2&&a!==(a="tab h-10 font-bold text-sm ease-in "+(n[1].selectedArea===K[n[5]]?"tab-active bg-base-content text-base-100":"bg-base-100 text-base-content"))&&c(e,"class",a)},d(i){i&&m(e),o=!1,u()}}}function Ut(n){let e,l;return e=new Lt({}),{c(){X(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},i(t){l||(E(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){ee(e,t)}}}function Bt(n){let e,l,t=n[0].session&&tt(n);return{c(){e=b("div"),t&&t.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var a=v(e);t&&t.l(a),a.forEach(m),this.h()},h(){c(e,"class","p-2 mb-14 text-center")},m(r,a){I(r,e,a),t&&t.m(e,null),l=!0},p(r,[a]){r[0].session?t?(t.p(r,a),a&1&&E(t,1)):(t=tt(r),t.c(),E(t,1),t.m(e,null)):t&&(de(),P(t,1,1,()=>{t=null}),he())},i(r){l||(E(t),l=!0)},o(r){P(t),l=!1},d(r){r&&m(e),t&&t.d()}}}function zt(n,e,l){let t,r;me(n,Oe,s=>l(0,t=s)),me(n,ce,s=>l(1,r=s));const a=s=>ce.update(i=>({...i,selectedArea:s})),o=Oe.subscribe(s=>{!s.loading&&!s.session&&dt("/")});return Le(o),[t,r,a,s=>a(K[s])]}class Kt extends te{constructor(e){super(),le(this,e,zt,Bt,re,{})}}export{Kt as default};
