import{C as b,s as d}from"./index-5bd3dcd0.js";const a=[];function y(s,c=b){let r;const i=new Set;function l(n){if(d(s,n)&&(s=n,r)){const f=!a.length;for(const e of i)e[1](),a.push(e,s);if(f){for(let e=0;e<a.length;e+=2)a[e][0](a[e+1]);a.length=0}}}function t(n){l(n(s))}function o(n,f=b){const e=[n,f];return i.add(e),i.size===1&&(r=c(l)||b),n(s),()=>{i.delete(e),i.size===0&&(r(),r=null)}}return{set:l,update:t,subscribe:o}}const E="/stick-generator";let g="";function R(s){g=s}const k="modulepreload",_=function(s,c){return new URL(s,c).href},m={},S=function(c,r,i){if(!r||r.length===0)return c();const l=document.getElementsByTagName("link");return Promise.all(r.map(t=>{if(t=_(t,i),t in m)return;m[t]=!0;const o=t.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(!!i)for(let u=l.length-1;u>=0;u--){const h=l[u];if(h.href===t&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${n}`))return;const e=document.createElement("link");if(e.rel=o?"stylesheet":k,o||(e.as="script",e.crossOrigin=""),e.href=t,document.head.appendChild(e),o)return new Promise((u,h)=>{e.addEventListener("load",u),e.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>c())};export{S as _,g as a,E as b,R as s,y as w};
